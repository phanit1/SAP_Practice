<!-- <html>
    <head>
        <script type="text/javascript">
            function checkPassword(str)
            {
            var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;
            return re.test(str);
            }
            function checkForm(form)
            {
            if(form.username.value == "") {
                document.getElementById("textdisplay").innerHTML="Error: Username cannot be blank!";
            return false;
            }
            re = /^\w+$/;
            if(!re.test(form.username.value)) {
                document.getElementById("textdisplay").innerHTML="Error: Username must contain only letters, numbers and underscores!";
            return false;
            }
            if(form.pwd1.value != "") {
                if(form.pwd2.value != "") {
                    if(form.pwd1.value == form.pwd2.value) {
                        if(!checkPassword(form.pwd1.value)) {
                            document.getElementById("textdisplay").innerHTML="The password you have entered is not valid!";
                        return false;
                        }
                    }
                    else {
                        document.getElementById("textdisplay").innerHTML="Error: Password and Confirm Password are not same";
                        return false;
                    }
                }
                else {
                    document.getElementById("textdisplay").innerHTML="Error: Confirm Password cannot be blank!";
                    return false;
                }
            }
            else {
                document.getElementById("textdisplay").innerHTML="Error: Password cannot be blank!";
            return false;
            }
            document.getElementById("textdisplay").innerHTML="Registration Success";
            return true;
            }
           </script>
    </head>
    <body>
        <h1 style="text-align: center;">Registration or Login Form</h1>
        <form method="POST" onsubmit="return checkForm(this);">
            <p style="text-align: center;">Username: <input type="text" name="username"></p>
            <p style="text-align: center;">Password: <input type="password" name="pwd1"></p>
            <p style="text-align: center;">Confirm Password: <input type="password" name="pwd2"></p>
            <p style="text-align: center;"><input type="submit"></p>
            <h2 style="text-align: center;" id = "textdisplay"></h2>
        </form>
    </body>
</html>

 -->


<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<link rel="shortcut icon" href="{{url_for('static', filename='reg.png')}}" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript">
  function checkPassword(str)
  {
  var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;
  return re.test(str);
  }
  function checkForm(form)
  {
  if(form.username.value == "") {
      document.getElementById("textdisplay").innerHTML="Error: Username cannot be blank!";
  return false;
  }
  re = /^\w+$/;
  if(!re.test(form.username.value)) {
      document.getElementById("textdisplay").innerHTML="Error: Username must contain only letters, numbers and underscores!";
  return false;
  }
  if(form.pwd1.value != "") {
      if(form.pwd2.value != "") {
          if(form.pwd1.value == form.pwd2.value) {
              if(!checkPassword(form.pwd1.value)) {
                  document.getElementById("textdisplay").innerHTML="The password you have entered is not valid!";
              return false;
              }
          }
          else {
              document.getElementById("textdisplay").innerHTML="Error: Password and Confirm Password are not same";
              return false;
          }
      }
      else {
          document.getElementById("textdisplay").innerHTML="Error: Confirm Password cannot be blank!";
          return false;
      }
  }
  else {
      document.getElementById("textdisplay").innerHTML="Error: Password cannot be blank!";
  return false;
  }
  return true;
  }
 </script>
<style>
  body{
    background-image: url('static/bookreg1.jpeg'); 
    background-size: cover; 
    background-repeat: no-repeat; 
    color: white; 
    font-family: Arial, Helvetica, sans-serif;
  }
</style>
</head>
<body>
<form action = "/registration" method = "POST" onsubmit = "return checkForm(this);">
  <div class="container" style = "text-align: center;">
    <br>
    <br><br>
    <h1><b>Registration Form</b></h1>
    <br>
    <hr>
    <div class = "row justify-content-center" >
      <div class="col-lg-4">
        <label for="email"><h2>Email</h2></label>
        <input class="form-control" type = "email" name = "email" required>
      </div>
   </div><br>
   <div class ="row justify-content-center">
      <div class="col-lg-4">
        <label for="psw"><h2>Password</h2></label>
        <input class="form-control" type="password" name = "psw" required>
      </div>
 </div><br>
      <div class = "row justify-content-center">
      <div class="col-lg-4">
        <label for="psw-repeat"><h2>Confirm Password</h2></label>
        <input class="form-control" type="password" name ="psw-repeat" required>
      </div>
    </div>
    <hr>
    <br>
    <button type="submit" class="btn btn-success btn-lg"><b>Register</b></button>
    <button type="submit" class="btn btn-success btn-lg" formaction = "/auth"><b>Login</b></button>
  </div>
</form>
</body>
</html>
